<?php
// æ¡ä»¶åˆ†å²ã‚’æ´»ç”¨ã—ã€ãƒˆãƒ©ãƒ³ãƒ—ã® High&Low ã‚²ãƒ¼ãƒ ã‚’ä½œã£ã¦ã¿ã¾ã—ã‚‡ã†ã€‚
// ï¼œæ¡ä»¶ï¼ž

// è‡ªèº«ã¨ç›¸æ‰‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«ãã‚Œãžã‚Œ 1~13 ã®æ•°å­—ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã§ä¸Žãˆã‚‹ã€‚
// ã€Œã‚ãªãŸã®æ•°å­—ã¯ â—¯â—¯ ã§ã™ã€‚High ã‹ Low ã‚’é¸ã‚“ã§ãã ã•ã„ã€ã¨ã„ã†ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã§å…¥åŠ›ã•ã›ã‚‹ã€‚
// Highï¼†Low ã®æ¡ä»¶ã«å¾“ã„åˆ†å²ã‚’ã•ã›ã€è‡ªèº«ãŒå‹ã£ãŸå ´åˆã€è² ã‘ãŸå ´åˆã§ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å‡ºåŠ›ã€‚
// æ¡ä»¶å¤–ã®å…¥åŠ›ãŒã•ã‚ŒãŸå ´åˆã®ã‚¨ãƒ©ãƒ¼ã‚’ã—ã£ã‹ã‚Šã¨è€ƒãˆã€å‡¦ç†ã‚’ã™ã‚‹ã€‚
// input ãƒ‡ãƒ¼ã‚¿ã®å–å¾—ã¯ä»¥ä¸‹ã®ã‚³ãƒ¼ãƒ‰ã‚’å‚è€ƒã«ã—ã¦ãã ã•ã„ã€‚

$scoreA = 0;
$scoreB = 0;
// è‡ªåˆ†:a ã¨ç›¸æ‰‹:b ã®ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’ãƒ©ãƒ³ãƒ€ãƒ ã«å–å¾—
$a = rand(1, 13);
$b = rand(1, 13);
echo 'ã‚ãªãŸã®æ•°å­—ã¯' . $a . 'ã§ã™ã€‚Highã‹Lowã‚’å…¥åŠ›ã—ã¦ãã ã•ã„ã€‚';
$input = trim(fgets(STDIN));

// è‡ªåˆ†ã¨ç›¸æ‰‹ã®ã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’æ¯”è¼ƒã—ã¦çµæžœã‚’å–å¾—andå‡ºåŠ›
if ($a > $b) {
    $result = 'high';
} elseif ($a < $b) {
    $result = 'low';
} else {
    $result = 'draw';
}
echo $a . ', ' . $b . ', çµæžœï¼š' . $result . ' ';

// ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®äºˆæƒ³ã¨çµæžœã«å¿œã˜ã¦ãã‚Œãžã‚Œã«ç‚¹æ•°ã‚’åˆ†ã‘ä¸Žãˆã‚‹
if (strtolower($input) === 'high' || strtolower($input) === 'low') {
    if ($result === 'draw') {
        echo 'Draw! ';
    } elseif (strtolower($input) === $result) {
        echo 'Correct! ';
        $scoreA += 2;
    } else {
        echo 'Incorrect! ';
        $scoreB += 2;
    }
    // è‡ªåˆ†ã¨ç›¸æ‰‹ã®ã‚¹ã‚³ã‚¢ã‚’å‡ºåŠ›
    echo 'You:' . $scoreA . ' Opponent:' . $scoreB . ' ';
} else {
    echo 'Error! Highã‹Lowä»¥å¤–ã®å…¥åŠ›ãŒã•ã‚Œã¾ã—ãŸã€‚ã‚‚ã†ä¸€åº¦ãƒˆãƒ©ã‚¤ã—ã¦ãã ã•ã„ã€‚';
}

// å‹ã¡è² ã‘ã‚’è¡¨ç¤º
if ($scoreA > $scoreB) {
    echo 'You wonðŸ”¥ ';
} elseif ($scoreA < $scoreB) {
    echo 'You lostðŸ’§ ';
} else {
    echo 'Try again! ';
}

?>
